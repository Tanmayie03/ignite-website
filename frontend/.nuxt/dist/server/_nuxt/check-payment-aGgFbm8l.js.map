{"version":3,"file":"check-payment-aGgFbm8l.js","sources":["../../../../components/PaymentSuccess.vue","../../../../components/PaymentUnsuccess.vue","../../../../pages/check-payment.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1 class=\"text-4xl md:text-7xl text-center font-rampart pt-8 lg:pt-8 text-[#ff6246]\">\r\n        EventZen2.0\r\n      </h1>\r\n      <div class=\"flex flex-col items-center justify-center w-full px-6 my-12 text-center\">\r\n        <h1 class=\"text-3xl md:text-4xl text-[#ff6246] font-semibold\">Hurray!! </h1>\r\n        <h1 class=\"my-4 text-2xl font-semibold\">You have successfully registered for this event </h1>\r\n        <h1 class=\"text-xl text-gray-800\">(Kindly please check your spam session of email for your confirmation)</h1>\r\n        <img src=\"https://res.cloudinary.com/dy7zpv1ij/image/upload/v1706837382/hurrayImg_y5ymi9.png\" class=\"md:w-1/3\" />\r\n        <NuxtLink to=\"/\"><button class=\"bg-[#ff6246] px-6 py-2 rounded my-4 text-white\">Go home</button></NuxtLink>\r\n      </div>\r\n    </div>\r\n</template>","<script lang=\"ts\" setup>\r\nimport { defineProps } from 'vue'\r\n//reson for using defineProps is to pass the message from the parent component which is not required in this component\r\nconst props = defineProps({\r\n  message: {\r\n    type: String,\r\n    required: false,\r\n    default: 'Something went wrong'\r\n  }\r\n})\r\n</script>\r\n<template>\r\n    <div>\r\n        <h1 class=\"sm:text-5xl text-center font-rampart lg:pt-8 text-[#ff6246]\">\r\n        EventZen2.0\r\n      </h1>\r\n        <div class=\"flex flex-col items-center justify-center w-full px-6 my-12 text-center\">\r\n        <h1 class=\"text-3xl md:text-4xl text-[#ff6246] font-semibold\">Oh no!!</h1>\r\n        <h1 class=\"my-4 text-2xl font-semibold\"> {{ props.message.charAt(0).toUpperCase() + props.message.slice(1) }} </h1>\r\n        <h1 class=\"text-xl text-gray-800\">(Kindly please recheck your process )</h1>\r\n        <img src=\"https://res.cloudinary.com/dy7zpv1ij/image/upload/v1708430666/image_42-removebg-preview_arwuuu.png\" class=\"md:w-1/3\" />\r\n        <NuxtLink to=\"/\"><button class=\"bg-[#ff6246] px-6 py-2 rounded my-4 text-white\">Go home</button></NuxtLink>\r\n      </div>\r\n        \r\n    </div>\r\n</template>","<script setup>\r\nconst route = useRoute();\r\nconst formdata = new FormData();\r\nformdata.append('ticket_id', route.query.ticket_id)\r\nconst data = reactive({\r\n    status: false,\r\n    pending: true\r\n})\r\nconst {data:payment, pending, error} = await useFetch(`${useRuntimeConfig().public.base_url}${useRuntimeConfig().public.url_prefix}/public/event/${route.query.event_id}/confirm/${route.query.registration_id}`, \r\n    {\r\n        method: `POST`,\r\n        headers: {\r\n            'accept' : 'application/json',\r\n        },\r\n        body: formdata,\r\n    })\r\n    if ( payment.value ){\r\n        if(payment.value.data.hasOwnProperty('payment_status')){\r\n            if(payment.value.data.payment_status == \"COMPLETED\"){\r\n                data.status = true\r\n            }   \r\n        }\r\n        else {\r\n            data.status = true\r\n        }\r\n    } \r\n</script>\r\n<template>\r\n    <div>\r\n        <div class=\"pt-16 text-2xl md:pt-0\">\r\n            <div v-if=\"!pending\">\r\n                <div v-if=\"data.status == true\"> \r\n                      \r\n                    <PaymentSuccess /> \r\n                </div>\r\n                <div v-else>\r\n                    <!-- pass props if error -->\r\n                    <div v-if=\"!payment\">\r\n                        <PaymentUnsuccess :message=\"error.data.error\"  />\r\n                    </div>\r\n                    <div v-else>\r\n                        <PaymentUnsuccess />\r\n                    </div>\r\n\r\n                    \r\n                </div>\r\n            </div>\r\n            <div v-else>\r\n                Loading \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>"],"names":["_ssrRenderAttrs","_ssrRenderComponent","_withCtx","_push","_parent","_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,QAAA,OAAAA,eAAA,MAAA,CAAA,qkBAUwB;AAVxB,QAAAC,mBAUmH,qBAAA,EAAA,IAAA,IAAA,GAAA;AAAA,IAVnH,SAAAC,QAAA,CAAA,GAAAC,QAAAC,UAAA,aAAA;UAAAD,QAAA;;;AAUyB,eAAA;AAAA;;;KAVzB;AAAA;EAAA,GAAA,OAAA,CAAA;;;;;;;;;;;;;;;;;;;;;ACGA,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFd,UAAM,QAAQ,SAAQ;AACtB,UAAM,WAAW,IAAI;AACrB,aAAS,OAAO,aAAa,MAAM,MAAM,SAAS;AAClD,UAAM,OAAO,SAAS;AAAA,MAClB,QAAQ;AAAA,MACR,SAAS;AAAA,IACb,CAAC;AACD,UAAM,EAAC,MAAK,SAAS,SAAS,MAAK,KAAI,CAAA,QAAA,SAAA,IAAAE,iBAAA,MAAM;AAAA,MAAS,GAAG,iBAAgB,EAAG,OAAO,QAAQ,GAAG,iBAAkB,EAAC,OAAO,UAAU,iBAAiB,MAAM,MAAM,QAAQ,YAAY,MAAM,MAAM,eAAe;AAAA,MAC1M;AAAA,QACI,QAAQ;AAAA,QACR,SAAS;AAAA,UACL,UAAW;AAAA,QACd;AAAA,QACD,MAAM;AAAA;;IACT,CAAA;AACD,QAAK,QAAQ,OAAO;AAChB,UAAG,QAAQ,MAAM,KAAK,eAAe,gBAAgB,GAAE;AACnD,YAAG,QAAQ,MAAM,KAAK,kBAAkB,aAAY;AAChD,eAAK,SAAS;AAAA,QACjB;AAAA,MACJ,OACI;AACD,aAAK,SAAS;AAAA,MACjB;AAAA,IACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}